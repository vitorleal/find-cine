/*!
 * NWMatcher 1.3.0 - Fast CSS3 Selector Engine
 * Copyright (C) 2007-2012 Diego Perini
 * See http://nwbox.com/license
 */
(function(d,g){if(typeof module==='object'&&typeof exports==='object'){module.exports=function(b){var a={};g(b,a);return a}}else{if(!d.NW){d.NW={}}if(!d.NW.Dom){d.NW.Dom={}}g(d,d.NW.Dom)}})(this,function(G,bM){var cy='nwmatcher-1.3.0',l=bM,i=G.document,n=i.documentElement,L=[].slice,bN={}.toString,bm,Y,H,A,p,bn,bo,bp,bq,M='[#.:]?',br='([~*^$|!]?={1})',t='[\\x20\\t\\n\\r\\f]*',bs='[\\x20]|[>+~][^>+~]',bt='(?:[-+]?\\d*n)?[-+]?\\d*',Z='"[^"]*"'+"|'[^']*'",bO='\\([^()]+\\)|\\(.*\\)',bP='\\{[^{}]+\\}|\\{.*\\}',bQ='\\[[^[\\]]*\\]|\\[.*\\]',ba='\\[.*\\]|\\(.*\\)|\\{.*\\}',q='(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)',B='(?:-?[_0-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)+',bu='('+Z+'|'+B+')',C=t+'('+q+'+:?'+q+'+)'+t+'(?:'+br+t+bu+')?'+t,bR=C.replace(bu,'([\\x22\\x27]*)((?:\\\\?.)*?)\\3'),N='((?:'+bt+'|'+Z+'|'+M+'|'+q+'+|\\['+C+'\\]|\\(.+\\)|'+t+'|,)+)',bS='.+',bb='(?=[\\x20\\t\\n\\r\\f]*[^>+~(){}<>])(\\*|(?:'+M+B+')|'+bs+'|\\['+C+'\\]|\\('+N+'\\)|\\{'+bS+'\\}|(?:,|'+t+'))+',bT=bb.replace(N,'.*'),bc=new RegExp(bb,'g'),O=new RegExp('^'+t+'|'+t+'$','g'),bU=new RegExp('^((?!:not)('+M+'|'+B+'|\\([^()]*\\))+|\\['+C+'\\])$'),bd=new RegExp('([^,\\\\()[\\]]+|'+bQ+'|'+bO+'|'+bP+'|\\\\.)+','g'),bV=new RegExp('(\\['+C+'\\]|\\('+N+'\\)|[^\\x20\\t\\r\\n\\f>+~]|\\\\.)+','g'),bv=/[\x20\t\n\r\f]+/g,bw=new RegExp(B+'|^$'),y=(function(){var g=(i.appendChild+'').replace(/appendChild/g,'');return function(b,a){var d=b&&b[a]||false;return d&&typeof d!='string'&&g==(d+'').replace(new RegExp(a,'g'),'')}})(),bW=y(i,'hasFocus'),P=y(i,'querySelector'),bX=y(i,'getElementById'),bY=y(n,'getElementsByTagName'),Q=y(n,'getElementsByClassName'),bZ=y(n,'getAttribute'),ca=y(n,'hasAttribute'),bx=(function(){var b=false,a=n.id;n.id='length';try{b=!!L.call(i.childNodes,0)[0]}catch(e){}n.id=a;return b})(),by='nextElementSibling'in n&&'previousElementSibling'in n,cb=bX?(function(){var b=true,a='x'+String(+new Date),d=i.createElementNS?'a':'<a name="'+a+'">';(d=i.createElement(d)).name=a;n.insertBefore(d,n.firstChild);b=!!i.getElementById(a);n.removeChild(d);return b})():true,bz=bY?(function(){var b=i.createElement('div');b.appendChild(i.createComment(''));return!!b.getElementsByTagName('*')[0]})():true,bA=Q?(function(){var b,a=i.createElement('div'),d='\u53f0\u5317';a.appendChild(i.createElement('span')).setAttribute('class',d+'abc '+d);a.appendChild(i.createElement('span')).setAttribute('class','x');b=!a.getElementsByClassName(d)[0];a.lastChild.className=d;return b||a.getElementsByClassName(d).length!=2})():true,cc=bZ?(function(){var b=i.createElement('input');b.setAttribute('value',5);return b.defaultValue!=5})():true,bB=ca?(function(){var b=i.createElement('option');b.setAttribute('selected','selected');return!b.hasAttribute('selected')})():true,cd=(function(){var b=i.createElement('select');b.appendChild(i.createElement('option'));return!b.firstChild.selected})(),bC,bD,w,o,bE=/opera/i.test(bN.call(G.opera)),ce=bE&&parseFloat(opera.version())>=11,cf=P?(function(){var j=[],f=i.createElement('div'),h,c=function(b,a,d,g){var k=false;a.appendChild(d);try{k=a.querySelectorAll(b).length==g}catch(e){}while(a.firstChild){a.removeChild(a.firstChild)}return k};h=i.createElement('p');h.setAttribute('class','');c('[class^=""]',f,h,1)&&j.push('[*^$]=[\\x20\\t\\n\\r\\f]*(?:""|'+"'')");h=i.createElement('option');h.setAttribute('selected','selected');c(':checked',f,h,0)&&j.push(':checked');h=i.createElement('input');h.setAttribute('type','hidden');c(':enabled',f,h,0)&&j.push(':enabled',':disabled');h=i.createElement('link');h.setAttribute('href','x');c(':link',f,h,1)||j.push(':link');if(bB){j.push('\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)')}return j.length?new RegExp(j.join('|')):{'test':function(){return false}}})():true,cg=new RegExp('(?:\\[[\\x20\\t\\n\\r\\f]*class\\b|\\.'+B+')'),ch=new RegExp(!(bz&&bA)?!bE?'^(?:\\*|[.#]?-?[_0-zA-Z]{1}'+q+'*)$':'^(?:\\*|#-?[_0-zA-Z]{1}'+q+'*)$':'^#?-?[_0-zA-Z]{1}'+q+'*$'),ci={'a':1,'A':1,'area':1,'AREA':1,'link':1,'LINK':1},cj={'checked':1,'disabled':1,'ismap':1,'multiple':1,'readonly':1,'selected':1},bF={'value':'defaultValue','checked':'defaultChecked','selected':'defaultSelected'},ck={'action':2,'cite':2,'codebase':2,'data':2,'href':2,'longdesc':2,'lowsrc':2,'src':2,'usemap':2},bG={'class':0,'accept':1,'accept-charset':1,'align':1,'alink':1,'axis':1,'bgcolor':1,'charset':1,'checked':1,'clear':1,'codetype':1,'color':1,'compact':1,'declare':1,'defer':1,'dir':1,'direction':1,'disabled':1,'enctype':1,'face':1,'frame':1,'hreflang':1,'http-equiv':1,'lang':1,'language':1,'link':1,'media':1,'method':1,'multiple':1,'nohref':1,'noresize':1,'noshade':1,'nowrap':1,'readonly':1,'rel':1,'rev':1,'rules':1,'scope':1,'scrolling':1,'selected':1,'shape':1,'target':1,'text':1,'type':1,'valign':1,'valuetype':1,'vlink':1},cl={'accept':1,'accept-charset':1,'alink':1,'axis':1,'bgcolor':1,'charset':1,'codetype':1,'color':1,'enctype':1,'face':1,'hreflang':1,'http-equiv':1,'lang':1,'language':1,'link':1,'media':1,'rel':1,'rev':1,'target':1,'text':1,'type':1,'vlink':1},D={},I={'=':"n=='%m'",'^=':"n.indexOf('%m')==0",'*=':"n.indexOf('%m')>-1",'|=':"(n+'-').indexOf('%m-')==0",'~=':"(' '+n+' ').indexOf(' %m ')>-1",'$=':"n.substr(n.length-'%m'.length)=='%m'"},E={ID:new RegExp('^\\*?#('+q+'+)|'+ba),TAG:new RegExp('^('+q+'+)|'+ba),CLASS:new RegExp('^\\*?\\.('+q+'+$)|'+ba)},s={spseudos:/^\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\(\s*(even|odd|(?:[-+]{0,1}\d*n\s*)?[-+]{0,1}\s*\d*)\s*\))?(.*)/i,dpseudos:/^\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\(([-\w]{2,})\)|not\(([^()]*|.*)\))?(.*)/i,attribute:new RegExp('^\\['+bR+'\\](.*)'),children:/^[\x20\t\n\r\f]*\>[\x20\t\n\r\f]*(.*)/,adjacent:/^[\x20\t\n\r\f]*\+[\x20\t\n\r\f]*(.*)/,relative:/^[\x20\t\n\r\f]*\~[\x20\t\n\r\f]*(.*)/,ancestor:/^[\x20\t\n\r\f]+(.*)/,universal:/^\*(.*)/,id:new RegExp('^#('+q+'+)(.*)'),tagName:new RegExp('^('+q+'+)(.*)'),className:new RegExp('^\\.('+q+'+)(.*)')},bH=function(b,a){var d=-1,g;if(!b.length&&Array.slice)return Array.slice(a);while((g=a[++d]))b[b.length]=g;return b},bI=function(b,a,d){var g=-1,k;while((k=a[++g])){if(false===d(b[b.length]=k)){break}}return b},F=function(a,d){var g,k=i;A=a;i=a.ownerDocument||a;if(d||k!==i){n=i.documentElement;o=i.createElement('DiV').nodeName=='DiV';w=!o&&typeof i.compatMode=='string'?i.compatMode.indexOf('CSS')<0:(function(){var b=i.createElement('div').style;return b&&(b.width=1)&&b.width=='1px'})();g=i.createElement('div');g.appendChild(i.createElement('p')).setAttribute('class','xXx');g.appendChild(i.createElement('p')).setAttribute('class','xxx');bC=!o&&Q&&w&&(g.getElementsByClassName('xxx').length!=2||g.getElementsByClassName('xXx').length!=2);bD=!o&&P&&w&&(g.querySelectorAll('[class~=xxx]').length!=2||g.querySelectorAll('.xXx').length!=2);m.CACHING&&l.setCache(true,i)}},be=function(b,a){var d=-1,g=null;while((g=a[++d])){if(g.getAttribute('id')==b){break}}return g},J=!cb?function(b,a){b=b.replace(/\\([^\\]{1})/g,'$1');return a.getElementById&&a.getElementById(b)||be(b,a.getElementsByTagName('*'))}:function(b,a){var d=null;b=b.replace(/\\([^\\]{1})/g,'$1');if(o||a.nodeType!=9){return be(b,a.getElementsByTagName('*'))}if((d=a.getElementById(b))&&d.name==b&&a.getElementsByName){return be(b,a.getElementsByName(b))}return d},cm=function(b,a){a||(a=i);if(A!==a){F(a)}return J(b,a)},cn=function(b,a){var d=b=='*',g=a,k=[],j=g.firstChild;d||(b=b.toUpperCase());while((g=j)){if(g.tagName>'@'&&(d||g.tagName.toUpperCase()==b)){k[k.length]=g}if((j=g.firstChild||g.nextSibling))continue;while(!j&&(g=g.parentNode)&&g!==a){j=g.nextSibling}}return k},z=!bz&&bx?function(b,a){return o||a.nodeType==11?cn(b,a):L.call(a.getElementsByTagName(b),0)}:function(b,a){var d=-1,g=d,k=[],j,f=a.getElementsByTagName(b);if(b=='*'){while((j=f[++d])){if(j.nodeName>'@')k[++g]=j}}else{while((j=f[++d])){k[d]=j}}return k},co=function(b,a){a||(a=i);if(A!==a){F(a)}return z(b,a)},bJ=function(b,a){return R('[name="'+b.replace(/\\([^\\]{1})/g,'$1')+'"]',a)},cp=function(b,a){var d=-1,g=d,k=[],j,f=z('*',a),h;b=' '+(w?b.toLowerCase():b).replace(/\\([^\\]{1})/g,'$1')+' ';while((j=f[++d])){h=o?j.getAttribute('class'):j.className;if(h&&h.length&&(' '+(w?h.toLowerCase():h).replace(bv,' ')+' ').indexOf(b)>-1){k[++g]=j}}return k},K=function(b,a){return(bA||bC||o||!a.getElementsByClassName)?cp(b,a):L.call(a.getElementsByClassName(b.replace(/\\([^\\]{1})/g,'$1')),0)},cq=function(b,a){a||(a=i);if(A!==a){F(a)}return K(b,a)},bf='compareDocumentPosition'in n?function(b,a){return(b.compareDocumentPosition(a)&16)==16}:'contains'in n?function(b,a){return b!==a&&b.contains(a)}:function(b,a){while((a=a.parentNode)){if(a===b)return true}return false},bK=!cc?function(b,a){return b.getAttribute(a)||''}:function(b,a){a=a.toLowerCase();if(typeof b[a]=='object'){return b.attributes[a]&&b.attributes[a].value||''}return(a=='type'?b.getAttribute(a)||'':ck[a]?b.getAttribute(a,2)||'':cj[a]?b.getAttribute(a)?a:'false':((b=b.getAttributeNode(a))&&b.value)||'')},bg=!bB?function(b,a){return o?!!b.getAttribute(a):b.hasAttribute(a)}:function(b,a){a=a.toLowerCase();if(bF[a]){return!!b[bF[a]]}b=b.getAttributeNode(a);return!!(b&&b.specified)},cr=function(b){b=b.firstChild;while(b){if(b.nodeType==3||b.nodeName>'@')return false;b=b.nextSibling}return true},cs=function(b){return bg(b,'href')&&ci[b.nodeName]},ct=function(b,a){var d=1,g=a?'nextSibling':'previousSibling';while((b=b[g])){if(b.nodeName>'@')++d}return d},cu=function(b,a){var d=1,g=a?'nextSibling':'previousSibling',k=b.nodeName;while((b=b[g])){if(b.nodeName==k)++d}return d},cv=function(b){if(typeof b=='string'){return m[b]}if(typeof b!='object'){return false}for(var a in b){m[a]=!!b[a];if(a=='SIMPLENOT'){bh={};S={};bi={};T={};m['USE_QSAPI']=false}else if(a=='USE_QSAPI'){m[a]=!!b[a]&&P}}bc=new RegExp(m.SIMPLENOT?bb:bT,'g');return true},r=function(b){if(m.VERBOSITY){throw new Error(b);}if(G.console&&G.console.log){G.console.log(b)}},m={CACHING:false,SHORTCUTS:false,SIMPLENOT:true,UNIQUE_ID:true,USE_HTML5:true,USE_QSAPI:P,VERBOSITY:true},bj='r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;',U=function(b,a,d){var g=typeof b=='string'?b.match(bd):b;typeof a=='string'||(a='');if(g.length==1){a+=bL(g[0],d?bj:'f&&f(k);return true;',d)}else{var k=-1,j={},f;while((f=g[++k])){f=f.replace(O,'');if(!j[f]&&(j[f]=true)){a+=bL(f,d?bj:'f&&f(k);return true;',d)}}}if(d){return new Function('c,s,r,d,h,g,f,v','var N,n,x=0,k=-1,e;main:while((e=c[++k])){'+a+'}return r;')}else{return new Function('e,s,r,d,h,g,f,v','var N,n,x=0,k=e;'+a+'return false;')}},V='var z=v[@]||(v[@]=[]),l=z.length-1;while(l>=0&&z[l]!==e)--l;if(l!==-1){break;}z[z.length]=e;',bL=function(b,a,d){var g,k,j,f=0,h,c,x,W,u,v;while(b){f++;if((c=b.match(s.universal))){h=''}else if((c=b.match(s.id))){a='if('+(o?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+c[1]+'"){'+a+'}'}else if((c=b.match(s.tagName))){a='if(e.nodeName'+(o?'=="'+c[1]+'"':'.toUpperCase()=="'+c[1].toUpperCase()+'"')+'){'+a+'}'}else if((c=b.match(s.className))){a='if((n='+(o?'s.getAttribute(e,"class")':'e.className')+')&&n.length&&(" "+'+(w?'n.toLowerCase()':'n')+'.replace('+bv+'," ")+" ").indexOf(" '+(w?c[1].toLowerCase():c[1])+' ")>-1){'+a+'}'}else if((c=b.match(s.attribute))){h=c[1].split(':');h=h.length==2?h[1]:h[0]+'';if(c[2]&&!I[c[2]]){r('Unsupported operator in attribute selectors "'+b+'"');return''}u=false;v='false';if(c[2]&&c[4]&&(v=I[c[2]])){bG['class']=w?1:0;c[4]=c[4].replace(/(\x22|\x27)/g,'\\$1');c[4]=c[4].replace(/\\([0-9a-f]{2,2})/g,'\\x$1');u=(o?cl:bG)[h.toLowerCase()];v=v.replace(/\%m/g,u?c[4].toLowerCase():c[4])}else if(c[2]=='!='||c[2]=='='){c[4]=c[4].replace(/(\x22|\x27)/g,'\\$1');v='n'+c[2]+'="'+c[4]+'"'}h='n=s.'+(c[2]?'get':'has')+'Attribute(e,"'+c[1]+'")'+(u?'.toLowerCase();':';');a=h+'if('+(c[2]?v:'n')+'){'+a+'}'}else if((c=b.match(s.adjacent))){a=(d?'':V.replace(/@/g,f))+a;a=by?'var N'+f+'=e;while(e&&(e=e.previousElementSibling)){'+a+'break;}e=N'+f+';':'var N'+f+'=e;while(e&&(e=e.previousSibling)){if(e.nodeName>"@"){'+a+'break;}}e=N'+f+';'}else if((c=b.match(s.relative))){a=(d?'':V.replace(/@/g,f))+a;a=by?('var N'+f+'=e;e=e.parentNode.firstElementChild;while(e&&e!==N'+f+'){'+a+'e=e.nextElementSibling}e=N'+f+';'):('var N'+f+'=e;e=e.parentNode.firstChild;while(e&&e!==N'+f+'){if(e.nodeName>"@"){'+a+'}e=e.nextSibling}e=N'+f+';');}else if((c=b.match(s.children))){a=(d?'':V.replace(/@/g,f))+a;a='var N'+f+'=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){'+a+'break}e=N'+f+';';}else if((c=b.match(s.ancestor))){a=(d?'':V.replace(/@/g,f))+a;a='var N'+f+'=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){'+a+'}e=N'+f+';';}else if((c=b.match(s.spseudos))&&c[1]){switch(c[1]){case'root':if(c[3]){a='if(e===h||s.contains(h,e)){'+a+'}';}else{a='if(e===h){'+a+'}';}break;case'empty':a='if(s.isEmpty(e)){'+a+'}';break;default:if(c[1]&&c[2]){if(c[2]=='n'){a='if(e!==h){'+a+'}';break;}else if(c[2]=='even'){g=2;k=0;}else if(c[2]=='odd'){g=2;k=1;}else{k=((j=c[2].match(/(-?\d+)$/))?parseInt(j[1],10):0);g=((j=c[2].match(/(-?\d*)n/i))?parseInt(j[1],10):0);if(j&&j[1]=='-')g=-1;}u=g>1?(/last/i.test(c[1]))?'(n-('+k+'))%'+g+'==0':'n>='+k+'&&(n-('+k+'))%'+g+'==0':g<-1?(/last/i.test(c[1]))?'(n-('+k+'))%'+g+'==0':'n<='+k+'&&(n-('+k+'))%'+g+'==0':g===0?'n=='+k:(/last/i.test(c[1]))?g==-1?'n>='+k:'n<='+k:g==-1?'n<='+k:'n>='+k;a='if(e!==h){n=s['+(/-of-type/i.test(c[1])?'"nthOfType"':'"nthElement"')+'](e,'+(/last/i.test(c[1])?'true':'false')+');if('+u+'){'+a+'}}';}else{g=/first/i.test(c[1])?'previous':'next';j=/only/i.test(c[1])?'previous':'next';k=/first|last/i.test(c[1]);v=/-of-type/i.test(c[1])?'&&n.nodeName!=e.nodeName':'&&n.nodeName<"@"';a='if(e!==h){'+('n=e;while((n=n.'+g+'Sibling)'+v+');if(!n){'+(k?a:'n=e;while((n=n.'+j+'Sibling)'+v+');if(!n){'+a+'}')+'}')+'}';}break;}}else if((c=b.match(s.dpseudos))&&c[1]){switch(c[1].match(/^\w+/)[0]){case'not':h=c[3].replace(O,'');if(m.SIMPLENOT&&!bU.test(h)){r('Negation pseudo-class only accepts simple selectors "'+b+'"');return'';}else{if('compatMode'in i){a='if(!'+U(h,'',false)+'(e,s,r,d,h,g)){'+a+'}';}else{a='if(!s.match(e, "'+h.replace(/\x22/g,'\\"')+'",g)){'+a+'}';}}break;case'checked':a='if((typeof e.form!=="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)'+(m.USE_HTML5?'||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))':'')+'){'+a+'}';break;case'disabled':a='if(((typeof e.form!=="undefined"'+(m.USE_HTML5?'':'&&!(/^hidden$/i).test(e.type)')+')||s.isLink(e))&&e.disabled===true){'+a+'}';break;case'enabled':a='if(((typeof e.form!=="undefined"'+(m.USE_HTML5?'':'&&!(/^hidden$/i).test(e.type)')+')||s.isLink(e))&&e.disabled===false){'+a+'}';break;case'lang':u='';if(c[2])u=c[2].substr(0,2)+'-';a='do{(n=e.lang||"").toLowerCase();if((n==""&&h.lang=="'+c[2].toLowerCase()+'")||(n&&(n=="'+c[2].toLowerCase()+'"||n.substr(0,3)=="'+u.toLowerCase()+'"))){'+a+'break;}}while((e=e.parentNode)&&e!==g);';break;case'target':j=i.location?i.location.hash:'';if(j){a='if(e.id=="'+j.slice(1)+'"){'+a+'}';}break;case'link':a='if(s.isLink(e)&&!e.visited){'+a+'}';break;case'visited':a='if(s.isLink(e)&&e.visited){'+a+'}';break;case'active':if(o)break;a='if(e===d.activeElement){'+a+'}';break;case'hover':if(o)break;a='if(e===d.hoverElement){'+a+'}';break;case'focus':if(o)break;a=bW?'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||!isNaN(e.tabIndex))){'+a+'}':'if(e===d.activeElement&&(e.type||e.href)){'+a+'}';break;case'selected':h=cd?'||(n=e.parentNode)&&n.options[n.selectedIndex]===e':'';a='if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked'+h+')){'+a+'}';break;default:break;}}else{h=false;W=false;for(h in D){if((c=b.match(D[h].Expression))&&c[1]){x=D[h].Callback(c,a);a=x.source;W=x.status;if(W){break;}}}if(!W){r('Unknown pseudo-class selector "'+b+'"');return'';}if(!h){r('Unknown token in selector "'+b+'"');return'';}}if(!c){r('Invalid syntax in selector "'+b+'"');return'';}b=c&&c[c.length-1];}return a;},bk=function(b,a,d,g){var k;if(!(b&&b.nodeName>'@')){r('Invalid element argument');return false;}else if(!a||typeof a!='string'){r('Invalid selector argument');return false;}else if(d&&d.nodeType==1&&!bf(d,b)){return false;}else if(A!==d){F(d||(d=b.ownerDocument));}a=a.replace(O,'');m.SHORTCUTS&&(a=NW.Dom.shortcuts(a,b,d));if(bn!=a){if((k=a.match(bc))&&k[0]==a){bm=(k=a.match(bd)).length<2;bn=a;bp=k;}else{r('The string "'+a+'", is not a valid CSS selector');return false;}}else k=bp;if(!S[a]||bh[a]!==d){S[a]=U(bm?[a]:k,'',false);bh[a]=d;}return S[a](b,bl,[],i,n,d,g,{});},cw=function(b,a){return R(b,a,function(){return false;})[0]||null;},R=function(b,a,d){var g,k,j,f,h,c,x=b;if(arguments.length===0){r('Not enough arguments');return[];}else if(typeof b!='string'){return[];}else if(!(/[>+~*\w\u00a1-\uffff]/.test(b))){r('Invalid or illegal selector string');return[];}else if(a&&!(/1|9|11/).test(a.nodeType)){r('Invalid or illegal context element');return[];}else if(A!==a){F(a||(a=i));}if(m.CACHING&&(f=l.loadResults(x,a,i,n))){return d?bI([],f,d):f;}if(!ce&&ch.test(b)){switch(b.charAt(0)){case'#':if(m.UNIQUE_ID&&(j=J(b.slice(1),a))){f=[j];}else f=[];break;case'.':f=K(b.slice(1),a);break;default:f=z(b,a);break;}}else if(!o&&m.USE_QSAPI&&!(bD&&cg.test(b))&&!cf.test(b)){try{f=a.querySelectorAll(b);}catch(e){}}if(f){f=d?bI([],f,d):bx?L.call(f):bH([],f);m.CACHING&&l.saveResults(x,a,i,f);return f;}b=b.replace(O,'');m.SHORTCUTS&&(b=NW.Dom.shortcuts(b,a));if((k=bo!=b)){if((h=b.match(bc))&&h[0]==b){Y=(h=b.match(bd)).length<2;bo=b;bq=h;}else{r('The string "'+b+'", is not a valid CSS selector');return[];}}else h=bq;if(a.nodeType==11){f=a.childNodes;}else if(!o&&Y){if(k){h=b.match(bV);c=h[h.length-1];H=c.split(':not')[0];p=b.length-c.length;}if(m.UNIQUE_ID&&(h=H.match(E.ID))&&(c=h[1])){if((j=J(c,a))){if(bk(j,b)){d&&d(j);f=[j];}else f=[];}}else if(m.UNIQUE_ID&&(h=b.match(E.ID))&&(c=h[1])){if((j=J(c,i))){if('#'+c==b){d&&d(j);f=[j];}else if(/[>+~]/.test(b)){a=j.parentNode;}else{a=j;}}else f=[];}if(f){m.CACHING&&l.saveResults(x,a,i,f);return f;}if(!Q&&(h=H.match(E.TAG))&&(c=h[1])){if((f=z(c,a)).length===0){return[];}b=b.slice(0,p)+b.slice(p).replace(c,'*');}else if((h=H.match(E.CLASS))&&(c=h[1])){if((f=K(c,a)).length===0){return[];}if(bw.test(b.charAt(b.indexOf(c)-1))){b=b.slice(0,p)+b.slice(p).replace('.'+c,'');}else{b=b.slice(0,p)+b.slice(p).replace('.'+c,'*');}}else if((h=b.match(E.CLASS))&&(c=h[1])){if((f=K(c,a)).length===0){return[];}for(g=0,els=[];f.length>g;++g){els=bH(els,f[g].getElementsByTagName('*'));}f=els;if(bw.test(b.charAt(b.indexOf(c)-1))){b=b.slice(0,p)+b.slice(p).replace('.'+c,'');}else{b=b.slice(0,p)+b.slice(p).replace('.'+c,'*');}}else if(Q&&(h=H.match(E.TAG))&&(c=h[1])){if((f=z(c,a)).length===0){return[];}b=b.slice(0,p)+b.slice(p).replace(c,'*');}}if(!f){f=/^(?:applet|object)$/i.test(a.nodeName)?a.childNodes:z('*',a);}if(!T[b]||bi[b]!==a){T[b]=U(Y?[b]:h,'',true);bi[b]=a}f=T[b](f,bl,[],i,n,a,d,{});m.CACHING&&l.saveResults(x,a,i,f);return f},X=function(b){return b},bh={},S={},bi={},T={},bl={nthElement:ct,nthOfType:cu,getAttribute:bK,hasAttribute:bg,byClass:K,byName:bJ,byTag:z,byId:J,contains:bf,isEmpty:cr,isLink:cs,select:R,match:bk},cx={prefixes:M,encoding:q,operators:br,whitespace:t,identifier:B,attributes:C,combinators:bs,pseudoclass:N,pseudoparms:bt,quotedvalue:Z};l.ACCEPT_NODE=bj;l.emit=r;l.byId=cm;l.byTag=co;l.byName=bJ;l.byClass=cq;l.getAttribute=bK;l.hasAttribute=bg;l.match=bk;l.first=cw;l.select=R;l.compile=U;l.contains=bf;l.configure=cv;l.setCache=X;l.loadResults=X;l.saveResults=X;l.shortcuts=X;l.Config=m;l.Snapshot=bl;l.Operators=I;l.Selectors=D;l.Tokens=cx;l.registerOperator=function(b,a){I[b]||(I[b]=a)};l.registerSelector=function(b,a,d){D[b]||(D[b]={Expression:a,Callback:d})};F(i,true)});
